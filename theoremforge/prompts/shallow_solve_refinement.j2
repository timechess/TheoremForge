You are solving the following formal statement:

```lean4
{{ formal_statement }}
```

The previous proof attempt failed with compilation errors. Please fix the errors.

Failed Proof:
```lean4
{{ failed_code }}
```

Compilation Error:

{{ error_message }}

Useful Theorems:

{{ useful_theorems }}

Instructions:
1. Analyze the error message carefully to understand what went wrong.
2. Fix the specific issues mentioned in the error (syntax errors, type mismatches, unknown identifiers, etc.).
3. Preserve the overall proof strategy if it was sound, but modify the tactics or approach as needed.
4. Ensure the corrected proof is complete and syntactically correct.
5. DO NOT use `sorry` in your proof.
6. DO NOT add any imports or open statements.
7. Keep the original theorem statement unchanged.

Output:
Provide the corrected complete theorem with proof enclosed in ```lean4``` code blocks.








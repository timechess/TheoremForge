{"id": "c610", "nl_problem": "Real numbers $x$ and $y$ satisfy the equation $x^2 + y^2 = 10x - 6y - 34$. What is $x+y$?", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem prove_sum_from_quadratic_constraint (x y : ℝ) (h : x^2 + y^2 = 10*x - 6*y - 34) : x + y = 2 :=", "formal_code": "import Mathlib\ntheorem prove_sum_from_quadratic_constraint (x y : ℝ) (h : x^2 + y^2 = 10*x - 6*y - 34) : x + y = 2 := by\n  -- Rearrange the equation to: (x - 5)^2 + (y + 3)^2 = 0\n  have h1 : (x - 5)^2 + (y + 3)^2 = 0 := by nlinarith [sq_nonneg (x - 5), sq_nonneg (y + 3)]\n  \n  -- From sum of squares equal to zero, both terms must be zero\n  have hx : (x - 5)^2 = 0 := by nlinarith [sq_nonneg (x - 5), sq_nonneg (y + 3)]\n  have hy : (y + 3)^2 = 0 := by nlinarith [sq_nonneg (x - 5), sq_nonneg (y + 3)]\n  \n  -- From (x - 5)^2 = 0, we get x - 5 = 0\n  have hx_eq : x - 5 = 0 := by nlinarith [sq_nonneg (x - 5)]\n  \n  -- From (y + 3)^2 = 0, we get y + 3 = 0\n  have hy_eq : y + 3 = 0 := by nlinarith [sq_nonneg (y + 3)]\n  \n  -- Therefore x = 5 and y = -3\n  have x_val : x = 5 := by linarith\n  have y_val : y = -3 := by linarith\n  \n  -- So x + y = 5 + (-3) = 2\n  linarith"}
{"id": "c300", "nl_problem": "If $x$, $y$, and $z$ are positive numbers satisfying \\[\nx+\\frac{1}{y}=4,\\ \\ \\ y+\\frac{1}{z}=1,\\text{ and }z+\\frac{1}{x}=\\frac{7}{3},\n\\]find the value of $xyz$.", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem solve_cyclic_system_for_product (x y z : ℝ) (hx : 0 < x) (hy : 0 < y) (hz : 0 < z)\n  (h1 : x + 1/y = 4) (h2 : y + 1/z = 1) (h3 : z + 1/x = 7/3) : \n  x * y * z = 1 :=", "formal_code": "import Mathlib\ntheorem solve_cyclic_system_for_product (x y z : ℝ) (hx : 0 < x) (hy : 0 < y) (hz : 0 < z)\n  (h1 : x + 1/y = 4) (h2 : y + 1/z = 1) (h3 : z + 1/x = 7/3) : \n  x * y * z = 1 := by\n  -- We'll show that P = xyz satisfies P + 1/P = 2, which gives P = 1\n  have hxy : 0 < x * y := mul_pos hx hy\n  have hxyz : 0 < x * y * z := mul_pos hxy hz\n  have hxne : x ≠ 0 := ne_of_gt hx\n  have hyne : y ≠ 0 := ne_of_gt hy\n  have hzne : z ≠ 0 := ne_of_gt hz\n  \n  -- Multiply the three equations\n  have eq_prod : (x + 1/y) * (y + 1/z) * (z + 1/x) = 4 * 1 * (7/3) := by\n    rw [h1, h2, h3]\n  \n  -- Simplify RHS\n  have rhs_simp : (4 : ℝ) * 1 * (7/3) = 28/3 := by norm_num\n  rw [rhs_simp] at eq_prod\n  \n  -- Expand LHS: (x + 1/y) * (y + 1/z) * (z + 1/x)\n  have expand : (x + 1/y) * (y + 1/z) * (z + 1/x) = \n    x*y*z + y + x + 1/z + z + 1/x + 1/y + 1/(x*y*z) := by\n    field_simp\n    ring\n  \n  rw [expand] at eq_prod\n  \n  -- Rearrange to group the original sums\n  have grouped : x*y*z + (x + 1/y) + (y + 1/z) + (z + 1/x) + 1/(x*y*z) = 28/3 := by\n    linarith\n  \n  -- Substitute the known values\n  rw [h1, h2, h3] at grouped\n  \n  -- Simplify constants: 4 + 1 + 7/3 = 22/3\n  have const_sum : (4 : ℝ) + 1 + 7/3 = 22/3 := by norm_num\n  \n  have key_eq : x*y*z + 1/(x*y*z) = 2 := by linarith\n  \n  -- Let P = xyz, then P + 1/P = 2\n  set P := x * y * z with hP_def\n  have hP_pos : 0 < P := hxyz\n  have hP_ne : P ≠ 0 := ne_of_gt hP_pos\n  \n  -- Multiply by P: P^2 + 1 = 2P\n  have quad_eq : P^2 + 1 = 2*P := by\n    have : P + 1/P = 2 := key_eq\n    field_simp at this\n    linarith\n  \n  -- Rearrange: P^2 - 2P + 1 = 0\n  have quad_form : P^2 - 2*P + 1 = 0 := by linarith\n  \n  -- Factor: (P - 1)^2 = 0\n  have factored : (P - 1)^2 = 0 := by nlinarith\n  \n  -- Therefore P - 1 = 0\n  have P_minus_one : P - 1 = 0 := by nlinarith\n  \n  -- So P = 1\n  have P_eq_one : P = 1 := by linarith\n  \n  -- Therefore xyz = 1\n  exact P_eq_one"}
{"id": "c13", "nl_problem": "One line is described by\n\\[\\begin{pmatrix} -1 \\\\ -3 \\\\ -5 \\end{pmatrix} + t \\begin{pmatrix} 3 \\\\ k \\\\ 7 \\end{pmatrix}.\\]Another line is described by\n\\[\\begin{pmatrix} 2 \\\\ 4 \\\\ 6 \\end{pmatrix} + u \\begin{pmatrix} 1 \\\\ 4 \\\\ 7 \\end{pmatrix}.\\]Find $k$ so that the lines are coplanar (i.e. there is a plane that contains both lines).", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem find_coplanar_lines_k (k : ℝ) : \n  let P1 : Fin 3 → ℝ := ![(-1 : ℝ), (-3 : ℝ), (-5 : ℝ)]\n  let P2 : Fin 3 → ℝ := ![2, 4, 6]\n  let D1 : Fin 3 → ℝ := ![3, k, 7]\n  let D2 : Fin 3 → ℝ := ![1, 4, 7]\n  let vector_diff := P2 - P1\n  let cross_product : Fin 3 → ℝ := ![D1 1 * D2 2 - D1 2 * D2 1, D1 2 * D2 0 - D1 0 * D2 2, D1 0 * D2 1 - D1 1 * D2 0]\n  let scalar_triple_product := vector_diff 0 * cross_product 0 + vector_diff 1 * cross_product 1 + vector_diff 2 * cross_product 2\n  scalar_triple_product = 0 → k = 5 :=", "formal_code": "import Mathlib\ntheorem find_coplanar_lines_k (k : ℝ) : \n  let P1 : Fin 3 → ℝ := ![(-1 : ℝ), (-3 : ℝ), (-5 : ℝ)]\n  let P2 : Fin 3 → ℝ := ![2, 4, 6]\n  let D1 : Fin 3 → ℝ := ![3, k, 7]\n  let D2 : Fin 3 → ℝ := ![1, 4, 7]\n  let vector_diff := P2 - P1\n  let cross_product : Fin 3 → ℝ := ![D1 1 * D2 2 - D1 2 * D2 1, D1 2 * D2 0 - D1 0 * D2 2, D1 0 * D2 1 - D1 1 * D2 0]\n  let scalar_triple_product := vector_diff 0 * cross_product 0 + vector_diff 1 * cross_product 1 + vector_diff 2 * cross_product 2\n  scalar_triple_product = 0 → k = 5 := by\n  intro P1 P2 D1 D2 vector_diff cross_product scalar_triple_product h\n  have h_main : k = 5 := by\n    simp [P1, P2, D1, D2, vector_diff, cross_product, scalar_triple_product] at h\n    -- Simplify the expression for scalar_triple_product\n    norm_num [Fin.sum_univ_succ, Fin.sum_univ_zero] at h\n    -- Solve the equation 10 * k - 50 = 0\n    <;>\n    (try ring_nf at h ⊢) <;>\n    (try nlinarith) <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      }) <;>\n    (try\n      {\n        linarith\n      }) <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n    <;>\n    (try\n      {\n        nlinarith [sq_nonneg (k - 5), sq_nonneg (k + 5), sq_nonneg (k - 1), sq_nonneg (k + 1)]\n      })\n  exact h_main"}
{"id": "c185", "nl_problem": "The positive integers $A,$ $B,$ $A-B,$ and $A+B$ are all prime numbers. The sum of these four primes is\n\n$\\bullet$ A. even\n\n$\\bullet$ B. divisible by $3$\n\n$\\bullet$ C. divisible by $5$\n\n$\\bullet$ D. divisible by $7$\n\n$\\bullet$ E. prime\n\nExpress your answer using a letter, as A, B, C, D, or E.", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem sum_of_primes_is_prime (A B : ℕ) \n  (hA : Nat.Prime A) \n  (hB : Nat.Prime B) \n  (hAB : Nat.Prime (A - B)) \n  (hAB_sum : Nat.Prime (A + B)) : \n  Nat.Prime (3 * A + B) :=", "formal_code": "import Mathlib\ntheorem sum_of_primes_is_prime (A B : ℕ) \n  (hA : Nat.Prime A) \n  (hB : Nat.Prime B) \n  (hAB : Nat.Prime (A - B)) \n  (hAB_sum : Nat.Prime (A + B)) : \n  Nat.Prime (3 * A + B) := by\n  -- Extract bounds\n  have hA_ge : A ≥ 2 := Nat.Prime.two_le hA\n  have hB_ge : B ≥ 2 := Nat.Prime.two_le hB\n  have hAB_ge : A - B ≥ 2 := Nat.Prime.two_le hAB\n  \n  -- From A - B ≥ 2, we get A > B\n  have hA_gt_B : A > B := by omega\n  \n  -- B must be 2\n  have hB_eq_2 : B = 2 := by\n    by_contra h\n    -- If B ≠ 2, then B % 2 = 1 (B is odd)\n    have hB_odd : B % 2 = 1 := by\n      have : B = 2 ∨ B % 2 = 1 := Nat.Prime.eq_two_or_odd hB\n      cases this with\n      | inl h2 => exact absurd h2 h\n      | inr hodd => exact hodd\n    -- A is also odd (A = 2 would contradict A > B ≥ 3)\n    have hA_odd : A % 2 = 1 := by\n      have : A = 2 ∨ A % 2 = 1 := Nat.Prime.eq_two_or_odd hA\n      cases this with\n      | inl h2 => \n        rw [h2] at hA_gt_B\n        omega\n      | inr hodd => exact hodd\n    -- So A - B is even\n    have hAB_even : (A - B) % 2 = 0 := by omega\n    -- But A - B is prime and even, so A - B = 2\n    have hAB_eq_2 : A - B = 2 := by\n      have h2_le : 2 ≤ A - B := hAB_ge\n      have : A - B = 2 ∨ A - B > 2 := by omega\n      cases this with\n      | inl h => exact h\n      | inr h =>\n        -- If A - B > 2 and even, then A - B = 2k for k > 1\n        have : ∃ k, A - B = 2 * k ∧ k > 1 := by\n          have : (A - B) % 2 = 0 := hAB_even\n          have : 2 ∣ (A - B) := Nat.dvd_of_mod_eq_zero this\n          obtain ⟨k, hk⟩ := this\n          use k\n          constructor\n          · exact hk\n          · omega\n        obtain ⟨k, hk_eq, hk_gt⟩ := this\n        -- Then A - B is not prime\n        have : ¬Nat.Prime (A - B) := by\n          rw [hk_eq]\n          apply Nat.not_prime_mul'\n          · rfl\n          · norm_num\n          · omega\n        exact absurd hAB this\n    -- So A = B + 2\n    have hA_eq : A = B + 2 := by omega\n    -- Then A + B = 2B + 2 = 2(B + 1)\n    have hAB_sum_eq : A + B = 2 * (B + 1) := by omega\n    -- But this can't be prime\n    have : ¬Nat.Prime (A + B) := by\n      rw [hAB_sum_eq]\n      apply Nat.not_prime_mul'\n      · rfl\n      · norm_num\n      · omega\n    exact this hAB_sum\n  \n  -- Now we know B = 2\n  rw [hB_eq_2] at hAB hAB_sum hA_gt_B\n  \n  -- A must be 5\n  have hA_eq_5 : A = 5 := by\n    -- A is not 3 (since 3 - 2 = 1 is not prime)\n    have hA_ne_3 : A ≠ 3 := by\n      intro h\n      rw [h] at hAB\n      norm_num at hAB\n    \n    -- Consider A mod 3\n    have : A % 3 = 0 ∨ A % 3 = 1 ∨ A % 3 = 2 := by omega\n    \n    cases this with\n    | inl h =>\n      -- A ≡ 0 (mod 3), so 3 | A\n      have : 3 ∣ A := Nat.dvd_of_mod_eq_zero h\n      -- Since A is prime and 3 | A, we have A = 3\n      have : A = 3 := by\n        have := Nat.Prime.eq_one_or_self_of_dvd hA 3 this\n        cases this with\n        | inl h => omega\n        | inr h => exact h.symm\n      exact absurd this hA_ne_3\n    | inr h =>\n      cases h with\n      | inl h =>\n        -- A ≡ 1 (mod 3), so A = 3k + 1 for some k\n        -- Then A + 2 = 3k + 3 = 3(k + 1)\n        have : ∃ k, A = 3 * k + 1 := by\n          use A / 3\n          have := Nat.div_add_mod A 3\n          omega\n        obtain ⟨k, hk⟩ := this\n        rw [hk] at hAB_sum\n        norm_num at hAB_sum\n        -- 3(k+1) can't be prime\n        have : ¬Nat.Prime (3 * (k + 1)) := by\n          apply Nat.not_prime_mul'\n          · rfl\n          · norm_num\n          · omega\n        exact absurd hAB_sum this\n      | inr h =>\n        -- A ≡ 2 (mod 3), so A = 3k + 2 for some k\n        -- Then A - 2 = 3k\n        have : ∃ k, A = 3 * k + 2 := by\n          use A / 3\n          have := Nat.div_add_mod A 3\n          omega\n        obtain ⟨k, hk⟩ := this\n        rw [hk] at hAB\n        norm_num at hAB\n        -- 3k must be prime, so k = 1\n        have hk_eq_1 : k = 1 := by\n          have : 3 * k = 3 ∨ 3 * k > 3 := by omega\n          cases this with\n          | inl h => omega\n          | inr h =>\n            -- If 3k > 3, then 3k is not prime\n            have : ¬Nat.Prime (3 * k) := by\n              apply Nat.not_prime_mul'\n              · rfl\n              · omega\n              · omega\n            exact absurd hAB this\n        rw [hk_eq_1] at hk\n        exact hk\n  \n  -- Now we know A = 5 and B = 2\n  rw [hA_eq_5, hB_eq_2]\n  norm_num"}
{"id": "c340", "nl_problem": "Given that $\\binom{17}{10}=19448$, $\\binom{17}{11}=12376$ and $\\binom{19}{12}=50388$, find $\\binom{18}{12}$.", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem binomial_coefficient_identity_verification (h1 : Nat.choose 17 10 = 19448) (h2 : Nat.choose 17 11 = 12376) (h3 : Nat.choose 19 12 = 50388) : \n  Nat.choose 18 12 = 18564 :=", "formal_code": "import Mathlib\ntheorem binomial_coefficient_identity_verification (h1 : Nat.choose 17 10 = 19448) (h2 : Nat.choose 17 11 = 12376) (h3 : Nat.choose 19 12 = 50388) : \n  Nat.choose 18 12 = 18564 := by\n  -- Step 1: Calculate choose 18 11 using Pascal's identity\n  -- choose 18 11 = choose 17 10 + choose 17 11\n  have step1 : Nat.choose 18 11 = Nat.choose 17 10 + Nat.choose 17 11 := by\n    rw [Nat.choose_succ_succ' 17 10]\n  \n  -- Step 2: Substitute known values\n  rw [h1, h2] at step1\n  \n  -- Step 3: Simplify to get choose 18 11 = 31824\n  have step2 : Nat.choose 18 11 = 31824 := by\n    norm_num at step1 ⊢\n    exact step1\n  \n  -- Step 4: Use Pascal's identity again\n  -- choose 19 12 = choose 18 11 + choose 18 12\n  have step3 : Nat.choose 19 12 = Nat.choose 18 11 + Nat.choose 18 12 := by\n    rw [Nat.choose_succ_succ' 18 11]\n  \n  -- Step 5: Substitute known values\n  rw [h3, step2] at step3\n  \n  -- Step 6: Solve for choose 18 12\n  -- 50388 = 31824 + choose 18 12\n  -- choose 18 12 = 50388 - 31824 = 18564\n  omega"}
{"id": "c531", "nl_problem": "Let $a,$ $b,$ $c,$ $d$ be positive real numbers.  Find the minimum value of\n\\[(a + b + c + d) \\left( \\frac{1}{a} + \\frac{1}{b} + \\frac{1}{c} + \\frac{1}{d} \\right).\\]", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem minimum_expression_value : \n  (∀ a b c d : ℝ, 0 < a → 0 < b → 0 < c → 0 < d → \n   16 ≤ (a + b + c + d) * (1/a + 1/b + 1/c + 1/d)) ∧ \n  (∃ a b c d : ℝ, 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d ∧ \n   (a + b + c + d) * (1/a + 1/b + 1/c + 1/d) = 16) :=", "formal_code": "import Mathlib\ntheorem minimum_expression_value : \n  (∀ a b c d : ℝ, 0 < a → 0 < b → 0 < c → 0 < d → \n   16 ≤ (a + b + c + d) * (1/a + 1/b + 1/c + 1/d)) ∧ \n  (∃ a b c d : ℝ, 0 < a ∧ 0 < b ∧ 0 < c ∧ 0 < d ∧ \n   (a + b + c + d) * (1/a + 1/b + 1/c + 1/d) = 16) := by\n  constructor\n  · intro a b c d ha hb hc hd\n    -- Expand the product\n    have expand : (a + b + c + d) * (1/a + 1/b + 1/c + 1/d) = \n                  (a * (1/a) + a * (1/b) + a * (1/c) + a * (1/d)) +\n                  (b * (1/a) + b * (1/b) + b * (1/c) + b * (1/d)) +\n                  (c * (1/a) + c * (1/b) + c * (1/c) + c * (1/d)) +\n                  (d * (1/a) + d * (1/b) + d * (1/c) + d * (1/d)) := by ring\n    \n    -- Simplify each diagonal term\n    have diag_a : a * (1/a) = 1 := by field_simp [ne_of_gt ha]\n    have diag_b : b * (1/b) = 1 := by field_simp [ne_of_gt hb]\n    have diag_c : c * (1/c) = 1 := by field_simp [ne_of_gt hc]\n    have diag_d : d * (1/d) = 1 := by field_simp [ne_of_gt hd]\n    \n    -- Each pair x/y + y/x ≥ 2 by AM-GM\n    -- We prove this by showing (x - y)² ≥ 0 implies x²/xy + y²/xy ≥ 2xy/xy\n    have am_gm_ab : 2 ≤ a * (1/b) + b * (1/a) := by\n      have h : 0 ≤ (a - b) ^ 2 := sq_nonneg (a - b)\n      have key : 0 ≤ a^2 - 2*a*b + b^2 := by nlinarith\n      have pos_ab : 0 < a * b := by positivity\n      nlinarith [mul_pos ha hb]\n    \n    have am_gm_ac : 2 ≤ a * (1/c) + c * (1/a) := by\n      have h : 0 ≤ (a - c) ^ 2 := sq_nonneg (a - c)\n      have key : 0 ≤ a^2 - 2*a*c + c^2 := by nlinarith\n      nlinarith [mul_pos ha hc]\n    \n    have am_gm_ad : 2 ≤ a * (1/d) + d * (1/a) := by\n      have h : 0 ≤ (a - d) ^ 2 := sq_nonneg (a - d)\n      have key : 0 ≤ a^2 - 2*a*d + d^2 := by nlinarith\n      nlinarith [mul_pos ha hd]\n    \n    have am_gm_bc : 2 ≤ b * (1/c) + c * (1/b) := by\n      have h : 0 ≤ (b - c) ^ 2 := sq_nonneg (b - c)\n      have key : 0 ≤ b^2 - 2*b*c + c^2 := by nlinarith\n      nlinarith [mul_pos hb hc]\n    \n    have am_gm_bd : 2 ≤ b * (1/d) + d * (1/b) := by\n      have h : 0 ≤ (b - d) ^ 2 := sq_nonneg (b - d)\n      have key : 0 ≤ b^2 - 2*b*d + d^2 := by nlinarith\n      nlinarith [mul_pos hb hd]\n    \n    have am_gm_cd : 2 ≤ c * (1/d) + d * (1/c) := by\n      have h : 0 ≤ (c - d) ^ 2 := sq_nonneg (c - d)\n      have key : 0 ≤ c^2 - 2*c*d + d^2 := by nlinarith\n      nlinarith [mul_pos hc hd]\n    \n    -- Combine everything\n    calc (a + b + c + d) * (1/a + 1/b + 1/c + 1/d)\n        = (a * (1/a) + a * (1/b) + a * (1/c) + a * (1/d)) +\n          (b * (1/a) + b * (1/b) + b * (1/c) + b * (1/d)) +\n          (c * (1/a) + c * (1/b) + c * (1/c) + c * (1/d)) +\n          (d * (1/a) + d * (1/b) + d * (1/c) + d * (1/d)) := by ring\n        _ = 1 + (a * (1/b) + b * (1/a)) + (a * (1/c) + c * (1/a)) + (a * (1/d) + d * (1/a)) +\n            1 + (b * (1/c) + c * (1/b)) + (b * (1/d) + d * (1/b)) +\n            1 + (c * (1/d) + d * (1/c)) +\n            1 := by rw [diag_a, diag_b, diag_c, diag_d]; ring\n        _ ≥ 1 + 2 + 2 + 2 + 1 + 2 + 2 + 1 + 2 + 1 := by linarith\n        _ = 16 := by norm_num\n  \n  · use 1, 1, 1, 1\n    norm_num"}

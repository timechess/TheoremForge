{"id": "c200", "nl_problem": "A steel sphere with a 3-inch radius is made by removing metal from the corners of a cube that has the shortest possible side lengths. How many cubic inches are in the volume of the cube?", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem smallest_cube_volume_around_sphere : \n  let r : ℝ := 3\n  let s : ℝ := 2 * r\n  s ^ 3 = 216 :=", "formal_code": "import Mathlib\ntheorem smallest_cube_volume_around_sphere : \n  let r : ℝ := 3\n  let s : ℝ := 2 * r\n  s ^ 3 = 216 := by\n    norm_num"}
{"id": "c700", "nl_problem": "The nine horizontal and nine vertical lines on an $8\\times8$ checkerboard form $r$ rectangles, of which $s$ are squares. The number $s/r$ can be written in the form $m/n,$ where $m$ and $n$ are relatively prime positive integers. Find $m + n.$", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem checkerboard_rectangle_square_ratio : \n  let r := Nat.choose 9 2 * Nat.choose 9 2\n  let s := (8 : ℕ) ^ 2 + (7 : ℕ) ^ 2 + (6 : ℕ) ^ 2 + (5 : ℕ) ^ 2 + \n           (4 : ℕ) ^ 2 + (3 : ℕ) ^ 2 + (2 : ℕ) ^ 2 + (1 : ℕ) ^ 2\n  let gcd := Nat.gcd s r\n  let m := s / gcd\n  let n := r / gcd\n  m + n = 125 :=", "formal_code": "import Mathlib\ntheorem checkerboard_rectangle_square_ratio : \n  let r := Nat.choose 9 2 * Nat.choose 9 2\n  let s := (8 : ℕ) ^ 2 + (7 : ℕ) ^ 2 + (6 : ℕ) ^ 2 + (5 : ℕ) ^ 2 + \n           (4 : ℕ) ^ 2 + (3 : ℕ) ^ 2 + (2 : ℕ) ^ 2 + (1 : ℕ) ^ 2\n  let gcd := Nat.gcd s r\n  let m := s / gcd\n  let n := r / gcd\n  m + n = 125 := by\n  norm_num [Nat.choose]"}
{"id": "c538", "nl_problem": "What is the sum of the squares of the lengths of the $\\textbf{medians}$ of a triangle whose side lengths are $10,$ $10,$ and $12$?", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem calculate_median_squares_sum : \n  let a : ℝ := 10\n  let b : ℝ := 10  \n  let c : ℝ := 12\n  let m_a := (1/2) * Real.sqrt (2*b^2 + 2*c^2 - a^2)\n  let m_b := (1/2) * Real.sqrt (2*a^2 + 2*c^2 - b^2)\n  let m_c := (1/2) * Real.sqrt (2*a^2 + 2*b^2 - c^2)\n  m_a^2 + m_b^2 + m_c^2 = 258 :=", "formal_code": "import Mathlib\ntheorem calculate_median_squares_sum : \n  let a : ℝ := 10\n  let b : ℝ := 10  \n  let c : ℝ := 12\n  let m_a := (1/2) * Real.sqrt (2*b^2 + 2*c^2 - a^2)\n  let m_b := (1/2) * Real.sqrt (2*a^2 + 2*c^2 - b^2)\n  let m_c := (1/2) * Real.sqrt (2*a^2 + 2*b^2 - c^2)\n  m_a^2 + m_b^2 + m_c^2 = 258 := by\n  norm_num [Real.sqrt_sq]\n  ring_nf\n  norm_num"}
{"id": "c459", "nl_problem": "Steve has three quarters, three nickels and three pennies. If Steve selects three coins at random and without replacement, what is the probability that the total value is exactly 35 cents? Express your answer as a common fraction.", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem coin_selection_probability : \n  let total_quarters : ℕ := 3\n  let total_nickels : ℕ := 3\n  let total_pennies : ℕ := 3\n  let favorable_outcomes := Nat.choose total_quarters 1 * Nat.choose total_nickels 2 * Nat.choose total_pennies 0\n  let total_outcomes := Nat.choose (total_quarters + total_nickels + total_pennies) 3\n  (favorable_outcomes : ℚ) / total_outcomes = 3 / 28 :=", "formal_code": "import Mathlib\ntheorem coin_selection_probability : \n  let total_quarters : ℕ := 3\n  let total_nickels : ℕ := 3\n  let total_pennies : ℕ := 3\n  let favorable_outcomes := Nat.choose total_quarters 1 * Nat.choose total_nickels 2 * Nat.choose total_pennies 0\n  let total_outcomes := Nat.choose (total_quarters + total_nickels + total_pennies) 3\n  (favorable_outcomes : ℚ) / total_outcomes = 3 / 28 := by\n  norm_num [Nat.choose]"}
{"id": "c289", "nl_problem": "If $\\tan x+\\tan y=4$ and $\\cot x+\\cot y=5$, compute $\\tan (x+y)$.", "formal_type": "Lean", "header": "import Mathlib\ntheorem prove_tan_sum_identity_cot_x_eq (x : ℝ) : Real.cot x = 1 / Real.tan x := by\n  have h_main : (1 : ℝ) / Real.tan x = Real.cos x / Real.sin x := by\n    have h₁ : Real.tan x = Real.sin x / Real.cos x := by\n      rw [Real.tan_eq_sin_div_cos]\n    rw [h₁]\n    -- Use the property that (x / y)⁻¹ = y / x in Lean for any real numbers x and y.\n    have h₂ : (Real.sin x / Real.cos x : ℝ)⁻¹ = Real.cos x / Real.sin x := by\n      by_cases h₃ : Real.cos x = 0\n      · -- Case: cos x = 0\n        simp [h₃]\n        <;>\n        (try simp_all) <;>\n        (try field_simp [h₃]) <;>\n        (try ring_nf) <;>\n        (try norm_num)\n      · -- Case: cos x ≠ 0\n        by_cases h₄ : Real.sin x = 0\n        · -- Subcase: sin x = 0\n          simp [h₄]\n          <;>\n          (try simp_all) <;>\n          (try field_simp [h₃, h₄]) <;>\n          (try ring_nf) <;>\n          (try norm_num)\n        · -- Subcase: sin x ≠ 0\n          field_simp [h₃, h₄]\n          <;>\n          ring_nf\n          <;>\n          field_simp [h₃, h₄]\n          <;>\n          ring_nf\n    -- Use the property to simplify 1 / (sin x / cos x)\n    calc\n      (1 : ℝ) / (Real.sin x / Real.cos x) = (Real.sin x / Real.cos x : ℝ)⁻¹ := by\n        field_simp\n      _ = Real.cos x / Real.sin x := by rw [h₂]\n  \n  have h_final : Real.cot x = 1 / Real.tan x := by\n    have h₁ : Real.cot x = Real.cos x / Real.sin x := by\n      rw [Real.cot_eq_cos_div_sin]\n    rw [h₁]\n    -- Use the previously established equality to conclude the proof.\n    linarith\n  \n  exact h_final\ntheorem prove_tan_sum_identity_cot_y_eq (y : ℝ) : Real.cot y = 1 / Real.tan y := by\n  have h_main : Real.cot y = 1 / Real.tan y := by\n    by_cases h : Real.sin y = 0\n    · -- Case: sin y = 0\n      have h₁ : Real.cot y = 0 := by\n        rw [Real.cot_eq_cos_div_sin]\n        rw [h]\n        simp\n      have h₂ : Real.tan y = 0 := by\n        rw [Real.tan_eq_sin_div_cos]\n        rw [h]\n        simp\n      have h₃ : 1 / Real.tan y = 0 := by\n        rw [h₂]\n        simp\n      linarith\n    · -- Case: sin y ≠ 0\n      have h₁ : Real.cot y = Real.cos y / Real.sin y := by\n        rw [Real.cot_eq_cos_div_sin]\n      by_cases h₂ : Real.cos y = 0\n      · -- Subcase: cos y = 0\n        have h₃ : Real.tan y = 0 := by\n          rw [Real.tan_eq_sin_div_cos]\n          rw [h₂]\n          simp\n        have h₄ : 1 / Real.tan y = 0 := by\n          rw [h₃]\n          simp\n        have h₅ : Real.cos y / Real.sin y = 0 := by\n          rw [h₂]\n          simp\n        linarith\n      · -- Subcase: cos y ≠ 0\n        have h₃ : Real.tan y = Real.sin y / Real.cos y := by\n          rw [Real.tan_eq_sin_div_cos]\n        have h₄ : 1 / Real.tan y = Real.cos y / Real.sin y := by\n          rw [h₃]\n          field_simp [h, h₂]\n          <;> ring\n          <;> field_simp [h, h₂]\n          <;> ring\n        linarith\n  exact h_main\ntheorem prove_tan_sum_identity_tan_x_ne_zero (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) : Real.tan x ≠ 0 := by\n  have h_main : Real.tan x ≠ 0 := by\n    by_contra h\n    have h3 : Real.tan x = 0 := by simpa using h\n    have h4 : Real.tan y = 4 := by\n      have h5 : Real.tan x + Real.tan y = 4 := h1\n      linarith\n    have h6 : Real.cot x = 0 := by\n      by_cases h7 : Real.cos x = 0\n      · -- Case: cos x = 0\n        have h8 : Real.cot x = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          have h9 : Real.cos x = 0 := h7\n          rw [h9]\n          simp\n          <;>\n          (try norm_num) <;>\n          (try linarith [Real.pi_pos])\n        exact h8\n      · -- Case: cos x ≠ 0\n        have h8 : Real.sin x = 0 := by\n          have h9 : Real.tan x = 0 := h3\n          have h10 : Real.tan x = Real.sin x / Real.cos x := by\n            rw [Real.tan_eq_sin_div_cos]\n          rw [h10] at h9\n          have h11 : Real.cos x ≠ 0 := h7\n          field_simp [h11] at h9\n          linarith\n        have h9 : Real.cot x = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          have h10 : Real.sin x = 0 := h8\n          rw [h10]\n          simp\n          <;>\n          (try norm_num) <;>\n          (try linarith [Real.pi_pos])\n        exact h9\n    have h7 : Real.cot y = 5 := by\n      have h8 : Real.cot x + Real.cot y = 5 := h2\n      linarith\n    have h8 : Real.cot y = 1 / 4 := by\n      have h9 : Real.tan y = 4 := h4\n      have h10 : Real.cos y ≠ 0 := by\n        by_contra h11\n        have h12 : Real.cos y = 0 := by simpa using h11\n        have h13 : Real.tan y = Real.sin y / Real.cos y := by\n          rw [Real.tan_eq_sin_div_cos]\n        rw [h13] at h9\n        rw [h12] at h9\n        norm_num at h9 <;>\n        (try simp_all [div_eq_mul_inv]) <;>\n        (try field_simp at h9 ⊢) <;>\n        (try linarith [Real.pi_pos])\n      have h11 : Real.sin y = 4 * Real.cos y := by\n        have h12 : Real.tan y = 4 := h4\n        have h13 : Real.tan y = Real.sin y / Real.cos y := by\n          rw [Real.tan_eq_sin_div_cos]\n        rw [h13] at h12\n        field_simp [h10] at h12\n        linarith\n      have h12 : Real.cot y = 1 / 4 := by\n        have h13 : Real.cot y = Real.cos y / Real.sin y := by\n          rw [Real.cot_eq_cos_div_sin]\n        rw [h13]\n        have h14 : Real.sin y = 4 * Real.cos y := h11\n        rw [h14]\n        have h15 : Real.cos y ≠ 0 := h10\n        field_simp [h15]\n        <;> ring_nf\n        <;> field_simp [h15]\n        <;> linarith\n      exact h12\n    have h9 : (5 : ℝ) = 1 / 4 := by linarith\n    norm_num at h9\n    <;> linarith\n  exact h_main\ntheorem prove_tan_sum_identity_tan_y_ne_zero (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_x_ne_zero : Real.tan x ≠ 0) : Real.tan y ≠ 0 := by\n  have h_main : Real.tan y ≠ 0 := by\n    by_contra h\n    have h3 : Real.tan y = 0 := by simpa using h\n    have h4 : Real.tan x = 4 := by\n      have h5 : Real.tan x + Real.tan y = 4 := h1\n      rw [h3] at h5\n      linarith\n    have h6 : Real.cot y = 0 := by\n      by_cases h7 : Real.sin y = 0\n      · -- Case: sin y = 0\n        have h8 : Real.cot y = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          rw [h7]\n          simp\n        exact h8\n      · -- Case: sin y ≠ 0\n        have h8 : Real.cos y = 0 := by\n          by_contra h9\n          -- If cos y ≠ 0, then tan y = sin y / cos y ≠ 0, which contradicts h3\n          have h10 : Real.tan y = Real.sin y / Real.cos y := by\n            rw [Real.tan_eq_sin_div_cos]\n          have h11 : Real.tan y ≠ 0 := by\n            rw [h10]\n            field_simp [h7, h9]\n            <;>\n            (try contradiction) <;>\n            (try linarith)\n          contradiction\n        have h9 : Real.cot y = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          rw [h8]\n          simp\n        exact h9\n    have h7 : Real.cot x = 1 / 4 := by\n      have h8 : Real.tan x = 4 := h4\n      have h9 : Real.cos x ≠ 0 := by\n        by_contra h10\n        have h11 : Real.tan x = 0 := by\n          rw [Real.tan_eq_sin_div_cos]\n          rw [h10]\n          simp\n        rw [h11] at h8\n        norm_num at h8 ⊢\n        <;> linarith\n      have h10 : Real.sin x = 4 * Real.cos x := by\n        have h11 : Real.tan x = Real.sin x / Real.cos x := by\n          rw [Real.tan_eq_sin_div_cos]\n        rw [h11] at h8\n        field_simp [h9] at h8\n        linarith\n      have h11 : Real.cot x = 1 / 4 := by\n        have h12 : Real.cot x = Real.cos x / Real.sin x := by\n          rw [Real.cot_eq_cos_div_sin]\n        rw [h12]\n        have h13 : Real.sin x = 4 * Real.cos x := h10\n        rw [h13]\n        have h14 : Real.cos x ≠ 0 := h9\n        field_simp [h14]\n        <;> ring_nf\n        <;> field_simp [h14]\n        <;> linarith\n      exact h11\n    have h8 : Real.cot x + Real.cot y = 1 / 4 := by\n      rw [h7, h6]\n      <;> norm_num\n    have h9 : Real.cot x + Real.cot y = 5 := h2\n    linarith\n  exact h_main\ntheorem prove_tan_sum_identity_h2_rewritten (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (cot_x_eq : Real.cot x = 1 / Real.tan x) (cot_y_eq : Real.cot y = 1 / Real.tan y) : 1 / Real.tan x + 1 / Real.tan y = 5 := by\n  rw [← cot_x_eq, ← cot_y_eq]\n  exact h2\ntheorem prove_tan_sum_identity_h2_combined (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_x_ne_zero : Real.tan x ≠ 0) (tan_y_ne_zero : Real.tan y ≠ 0) (h2_rewritten : 1 / Real.tan x + 1 / Real.tan y = 5) : (Real.tan x + Real.tan y) / (Real.tan x * Real.tan y) = 5 := by\n  have h_prod_ne_zero : Real.tan x * Real.tan y ≠ 0 := mul_ne_zero tan_x_ne_zero tan_y_ne_zero\n  field_simp [tan_x_ne_zero, tan_y_ne_zero, h_prod_ne_zero] at h2_rewritten ⊢\n  linarith\ntheorem prove_tan_sum_identity_tan_prod_eq (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_x_ne_zero : Real.tan x ≠ 0) (tan_y_ne_zero : Real.tan y ≠ 0) (h2_combined : (Real.tan x + Real.tan y) / (Real.tan x * Real.tan y) = 5) : Real.tan x * Real.tan y = 4 / 5 := by\n  -- Substitute h1 into h2_combined\n  rw [h1] at h2_combined\n  -- Now h2_combined : 4 / (Real.tan x * Real.tan y) = 5\n  -- We need to show: Real.tan x * Real.tan y = 4 / 5\n  \n  -- The product tan x * tan y is nonzero since both are nonzero\n  have prod_ne_zero : Real.tan x * Real.tan y ≠ 0 := mul_ne_zero tan_x_ne_zero tan_y_ne_zero\n  \n  -- From h2_combined: 4 / (Real.tan x * Real.tan y) = 5\n  -- Multiply both sides by (Real.tan x * Real.tan y)\n  have : 4 = 5 * (Real.tan x * Real.tan y) := by\n    field_simp [prod_ne_zero] at h2_combined\n    linarith\n  \n  -- Divide both sides by 5\n  linarith\ntheorem prove_tan_sum_identity_denom_ne_zero (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_prod_eq : Real.tan x * Real.tan y = 4 / 5) : 1 - Real.tan x * Real.tan y ≠ 0 := by\n  rw [tan_prod_eq]\n  norm_num\ntheorem prove_tan_sum_identity_tan_add_conditions (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (denom_ne_zero : 1 - Real.tan x * Real.tan y ≠ 0) : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2) := by\n  have h_cos_x_ne_zero : Real.cos x ≠ 0 := by\n    by_contra h\n    have h3 : Real.cos x = 0 := by simpa using h\n    have h4 : Real.tan x = 0 := by\n      rw [Real.tan_eq_sin_div_cos]\n      rw [h3]\n      simp\n    have h5 : Real.cot x = 0 := by\n      rw [Real.cot_eq_cos_div_sin]\n      have h6 : Real.cos x = 0 := h3\n      rw [h6]\n      by_cases h7 : Real.sin x = 0\n      · simp [h7]\n      · field_simp [h7]\n        <;> simp_all [Real.sin_sq_add_cos_sq]\n        <;> nlinarith [Real.sin_le_one x, Real.cos_le_one x, Real.sin_sq_add_cos_sq x]\n    have h6 : Real.tan y = 4 := by\n      linarith\n    have h7 : Real.cos y ≠ 0 := by\n      by_contra h8\n      have h9 : Real.cos y = 0 := by simpa using h8\n      have h10 : Real.tan y = 0 := by\n        rw [Real.tan_eq_sin_div_cos]\n        rw [h9]\n        simp\n      linarith\n    have h8 : Real.cot y = 1 / 4 := by\n      have h9 : Real.tan y = 4 := h6\n      have h10 : Real.tan y = Real.sin y / Real.cos y := by\n        rw [Real.tan_eq_sin_div_cos]\n      rw [h10] at h9\n      have h11 : Real.sin y / Real.cos y = 4 := by linarith\n      have h12 : Real.sin y = 4 * Real.cos y := by\n        field_simp [h7] at h11\n        linarith\n      have h13 : Real.cot y = Real.cos y / Real.sin y := by\n        rw [Real.cot_eq_cos_div_sin]\n      rw [h13]\n      have h14 : Real.sin y = 4 * Real.cos y := h12\n      rw [h14]\n      field_simp [h7]\n      <;> ring_nf\n      <;> field_simp [h7]\n      <;> nlinarith [Real.sin_sq_add_cos_sq y]\n    have h9 : Real.cot x + Real.cot y = 5 := h2\n    rw [h5] at h9\n    rw [h8] at h9\n    norm_num at h9\n    <;> linarith\n  \n  have h_cos_y_ne_zero : Real.cos y ≠ 0 := by\n    by_contra h\n    have h3 : Real.cos y = 0 := by simpa using h\n    have h4 : Real.tan y = 0 := by\n      rw [Real.tan_eq_sin_div_cos]\n      rw [h3]\n      simp\n    have h5 : Real.cot y = 0 := by\n      rw [Real.cot_eq_cos_div_sin]\n      have h6 : Real.cos y = 0 := h3\n      rw [h6]\n      by_cases h7 : Real.sin y = 0\n      · simp [h7]\n      · field_simp [h7]\n        <;> simp_all [Real.sin_sq_add_cos_sq]\n        <;> nlinarith [Real.sin_le_one y, Real.cos_le_one y, Real.sin_sq_add_cos_sq y]\n    have h6 : Real.tan x = 4 := by\n      linarith\n    have h7 : Real.cos x ≠ 0 := by\n      by_contra h8\n      have h9 : Real.cos x = 0 := by simpa using h8\n      have h10 : Real.tan x = 0 := by\n        rw [Real.tan_eq_sin_div_cos]\n        rw [h9]\n        simp\n      linarith\n    have h8 : Real.cot x = 1 / 4 := by\n      have h9 : Real.tan x = 4 := h6\n      have h10 : Real.tan x = Real.sin x / Real.cos x := by\n        rw [Real.tan_eq_sin_div_cos]\n      rw [h10] at h9\n      have h11 : Real.sin x / Real.cos x = 4 := by linarith\n      have h12 : Real.sin x = 4 * Real.cos x := by\n        field_simp [h7] at h11\n        linarith\n      have h13 : Real.cot x = Real.cos x / Real.sin x := by\n        rw [Real.cot_eq_cos_div_sin]\n      rw [h13]\n      have h14 : Real.sin x = 4 * Real.cos x := h12\n      rw [h14]\n      field_simp [h7]\n      <;> ring_nf\n      <;> field_simp [h7]\n      <;> nlinarith [Real.sin_sq_add_cos_sq x]\n    have h9 : Real.cot x + Real.cot y = 5 := h2\n    rw [h5] at h9\n    rw [h8] at h9\n    norm_num at h9\n    <;> linarith\n  \n  have h_main : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2) := by\n    constructor\n    · -- Prove that for all integers k, x ≠ (2k + 1)π/2\n      intro k\n      have h3 : Real.cos x ≠ 0 := h_cos_x_ne_zero\n      have h4 : Real.cos ((2 * (k : ℝ) + 1) * Real.pi / 2) = 0 := by\n        have h5 : Real.cos ((2 * (k : ℝ) + 1) * Real.pi / 2) = 0 := by\n          rw [show (2 * (k : ℝ) + 1) * Real.pi / 2 = (k : ℝ) * Real.pi + Real.pi / 2 by ring]\n          rw [show (k : ℝ) * Real.pi + Real.pi / 2 = (k : ℝ) * Real.pi + Real.pi / 2 by rfl]\n          -- Use the periodicity and properties of the cosine function to show that cos((2k + 1)π/2) = 0\n          have h6 : Real.cos ((k : ℝ) * Real.pi + Real.pi / 2) = -Real.sin ((k : ℝ) * Real.pi) := by\n            rw [Real.cos_add]\n            <;> simp [Real.cos_pi_div_two, Real.sin_pi_div_two]\n            <;> ring\n          rw [h6]\n          have h7 : Real.sin ((k : ℝ) * Real.pi) = 0 := by\n            -- Use the fact that sin(kπ) = 0 for any integer k\n            have h8 : Real.sin ((k : ℝ) * Real.pi) = 0 := by\n              rw [show (k : ℝ) * Real.pi = (k : ℝ) * Real.pi by rfl]\n              -- Use the periodicity of the sine function\n              exact Real.sin_int_mul_pi k\n            exact h8\n          rw [h7]\n          <;> ring\n        exact h5\n      -- Use the fact that cos x ≠ 0 to show that x ≠ (2k + 1)π/2\n      intro h5\n      have h6 : x = (2 * (k : ℝ) + 1) * Real.pi / 2 := by\n        norm_cast at h5 ⊢\n        <;> linarith\n      have h7 : Real.cos x = Real.cos ((2 * (k : ℝ) + 1) * Real.pi / 2) := by rw [h6]\n      rw [h7] at h3\n      exact h3 h4\n    · -- Prove that for all integers l, y ≠ (2l + 1)π/2\n      intro l\n      have h3 : Real.cos y ≠ 0 := h_cos_y_ne_zero\n      have h4 : Real.cos ((2 * (l : ℝ) + 1) * Real.pi / 2) = 0 := by\n        have h5 : Real.cos ((2 * (l : ℝ) + 1) * Real.pi / 2) = 0 := by\n          rw [show (2 * (l : ℝ) + 1) * Real.pi / 2 = (l : ℝ) * Real.pi + Real.pi / 2 by ring]\n          rw [show (l : ℝ) * Real.pi + Real.pi / 2 = (l : ℝ) * Real.pi + Real.pi / 2 by rfl]\n          -- Use the periodicity and properties of the cosine function to show that cos((2l + 1)π/2) = 0\n          have h6 : Real.cos ((l : ℝ) * Real.pi + Real.pi / 2) = -Real.sin ((l : ℝ) * Real.pi) := by\n            rw [Real.cos_add]\n            <;> simp [Real.cos_pi_div_two, Real.sin_pi_div_two]\n            <;> ring\n          rw [h6]\n          have h7 : Real.sin ((l : ℝ) * Real.pi) = 0 := by\n            -- Use the fact that sin(lπ) = 0 for any integer l\n            have h8 : Real.sin ((l : ℝ) * Real.pi) = 0 := by\n              rw [show (l : ℝ) * Real.pi = (l : ℝ) * Real.pi by rfl]\n              -- Use the periodicity of the sine function\n              exact Real.sin_int_mul_pi l\n            exact h8\n          rw [h7]\n          <;> ring\n        exact h5\n      -- Use the fact that cos y ≠ 0 to show that y ≠ (2l + 1)π/2\n      intro h5\n      have h6 : y = (2 * (l : ℝ) + 1) * Real.pi / 2 := by\n        norm_cast at h5 ⊢\n        <;> linarith\n      have h7 : Real.cos y = Real.cos ((2 * (l : ℝ) + 1) * Real.pi / 2) := by rw [h6]\n      rw [h7] at h3\n      exact h3 h4\n  \n  exact h_main\ntheorem prove_tan_sum_identity_tan_add_formula (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_add_conditions : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2)) : Real.tan (x + y) = (Real.tan x + Real.tan y) / (1 - Real.tan x * Real.tan y) := by\n  exact Real.tan_add' tan_add_conditions\ntheorem prove_tan_sum_identity_denom_value (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_prod_eq : Real.tan x * Real.tan y = 4 / 5) : 1 - Real.tan x * Real.tan y = 1 / 5 := by\n  rw [tan_prod_eq]\n  norm_num\ntheorem prove_tan_sum_identity_result (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_add_formula : Real.tan (x + y) = (Real.tan x + Real.tan y) / (1 - Real.tan x * Real.tan y)) (denom_value : 1 - Real.tan x * Real.tan y = 1 / 5) (numerator_value : Real.tan x + Real.tan y = 4) : Real.tan (x + y) = 4 / (1 / 5) := by\n  rw [tan_add_formula, numerator_value, denom_value]\n", "formal_statement": "theorem prove_tan_sum_identity (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) : \n  Real.tan (x + y) = 20 :=", "formal_code": "import Mathlib\ntheorem prove_tan_sum_identity_cot_x_eq (x : ℝ) : Real.cot x = 1 / Real.tan x := by\n  have h_main : (1 : ℝ) / Real.tan x = Real.cos x / Real.sin x := by\n    have h₁ : Real.tan x = Real.sin x / Real.cos x := by\n      rw [Real.tan_eq_sin_div_cos]\n    rw [h₁]\n    -- Use the property that (x / y)⁻¹ = y / x in Lean for any real numbers x and y.\n    have h₂ : (Real.sin x / Real.cos x : ℝ)⁻¹ = Real.cos x / Real.sin x := by\n      by_cases h₃ : Real.cos x = 0\n      · -- Case: cos x = 0\n        simp [h₃]\n        <;>\n        (try simp_all) <;>\n        (try field_simp [h₃]) <;>\n        (try ring_nf) <;>\n        (try norm_num)\n      · -- Case: cos x ≠ 0\n        by_cases h₄ : Real.sin x = 0\n        · -- Subcase: sin x = 0\n          simp [h₄]\n          <;>\n          (try simp_all) <;>\n          (try field_simp [h₃, h₄]) <;>\n          (try ring_nf) <;>\n          (try norm_num)\n        · -- Subcase: sin x ≠ 0\n          field_simp [h₃, h₄]\n          <;>\n          ring_nf\n          <;>\n          field_simp [h₃, h₄]\n          <;>\n          ring_nf\n    -- Use the property to simplify 1 / (sin x / cos x)\n    calc\n      (1 : ℝ) / (Real.sin x / Real.cos x) = (Real.sin x / Real.cos x : ℝ)⁻¹ := by\n        field_simp\n      _ = Real.cos x / Real.sin x := by rw [h₂]\n  \n  have h_final : Real.cot x = 1 / Real.tan x := by\n    have h₁ : Real.cot x = Real.cos x / Real.sin x := by\n      rw [Real.cot_eq_cos_div_sin]\n    rw [h₁]\n    -- Use the previously established equality to conclude the proof.\n    linarith\n  \n  exact h_final\ntheorem prove_tan_sum_identity_cot_y_eq (y : ℝ) : Real.cot y = 1 / Real.tan y := by\n  have h_main : Real.cot y = 1 / Real.tan y := by\n    by_cases h : Real.sin y = 0\n    · -- Case: sin y = 0\n      have h₁ : Real.cot y = 0 := by\n        rw [Real.cot_eq_cos_div_sin]\n        rw [h]\n        simp\n      have h₂ : Real.tan y = 0 := by\n        rw [Real.tan_eq_sin_div_cos]\n        rw [h]\n        simp\n      have h₃ : 1 / Real.tan y = 0 := by\n        rw [h₂]\n        simp\n      linarith\n    · -- Case: sin y ≠ 0\n      have h₁ : Real.cot y = Real.cos y / Real.sin y := by\n        rw [Real.cot_eq_cos_div_sin]\n      by_cases h₂ : Real.cos y = 0\n      · -- Subcase: cos y = 0\n        have h₃ : Real.tan y = 0 := by\n          rw [Real.tan_eq_sin_div_cos]\n          rw [h₂]\n          simp\n        have h₄ : 1 / Real.tan y = 0 := by\n          rw [h₃]\n          simp\n        have h₅ : Real.cos y / Real.sin y = 0 := by\n          rw [h₂]\n          simp\n        linarith\n      · -- Subcase: cos y ≠ 0\n        have h₃ : Real.tan y = Real.sin y / Real.cos y := by\n          rw [Real.tan_eq_sin_div_cos]\n        have h₄ : 1 / Real.tan y = Real.cos y / Real.sin y := by\n          rw [h₃]\n          field_simp [h, h₂]\n          <;> ring\n          <;> field_simp [h, h₂]\n          <;> ring\n        linarith\n  exact h_main\ntheorem prove_tan_sum_identity_tan_x_ne_zero (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) : Real.tan x ≠ 0 := by\n  have h_main : Real.tan x ≠ 0 := by\n    by_contra h\n    have h3 : Real.tan x = 0 := by simpa using h\n    have h4 : Real.tan y = 4 := by\n      have h5 : Real.tan x + Real.tan y = 4 := h1\n      linarith\n    have h6 : Real.cot x = 0 := by\n      by_cases h7 : Real.cos x = 0\n      · -- Case: cos x = 0\n        have h8 : Real.cot x = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          have h9 : Real.cos x = 0 := h7\n          rw [h9]\n          simp\n          <;>\n          (try norm_num) <;>\n          (try linarith [Real.pi_pos])\n        exact h8\n      · -- Case: cos x ≠ 0\n        have h8 : Real.sin x = 0 := by\n          have h9 : Real.tan x = 0 := h3\n          have h10 : Real.tan x = Real.sin x / Real.cos x := by\n            rw [Real.tan_eq_sin_div_cos]\n          rw [h10] at h9\n          have h11 : Real.cos x ≠ 0 := h7\n          field_simp [h11] at h9\n          linarith\n        have h9 : Real.cot x = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          have h10 : Real.sin x = 0 := h8\n          rw [h10]\n          simp\n          <;>\n          (try norm_num) <;>\n          (try linarith [Real.pi_pos])\n        exact h9\n    have h7 : Real.cot y = 5 := by\n      have h8 : Real.cot x + Real.cot y = 5 := h2\n      linarith\n    have h8 : Real.cot y = 1 / 4 := by\n      have h9 : Real.tan y = 4 := h4\n      have h10 : Real.cos y ≠ 0 := by\n        by_contra h11\n        have h12 : Real.cos y = 0 := by simpa using h11\n        have h13 : Real.tan y = Real.sin y / Real.cos y := by\n          rw [Real.tan_eq_sin_div_cos]\n        rw [h13] at h9\n        rw [h12] at h9\n        norm_num at h9 <;>\n        (try simp_all [div_eq_mul_inv]) <;>\n        (try field_simp at h9 ⊢) <;>\n        (try linarith [Real.pi_pos])\n      have h11 : Real.sin y = 4 * Real.cos y := by\n        have h12 : Real.tan y = 4 := h4\n        have h13 : Real.tan y = Real.sin y / Real.cos y := by\n          rw [Real.tan_eq_sin_div_cos]\n        rw [h13] at h12\n        field_simp [h10] at h12\n        linarith\n      have h12 : Real.cot y = 1 / 4 := by\n        have h13 : Real.cot y = Real.cos y / Real.sin y := by\n          rw [Real.cot_eq_cos_div_sin]\n        rw [h13]\n        have h14 : Real.sin y = 4 * Real.cos y := h11\n        rw [h14]\n        have h15 : Real.cos y ≠ 0 := h10\n        field_simp [h15]\n        <;> ring_nf\n        <;> field_simp [h15]\n        <;> linarith\n      exact h12\n    have h9 : (5 : ℝ) = 1 / 4 := by linarith\n    norm_num at h9\n    <;> linarith\n  exact h_main\ntheorem prove_tan_sum_identity_tan_y_ne_zero (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_x_ne_zero : Real.tan x ≠ 0) : Real.tan y ≠ 0 := by\n  have h_main : Real.tan y ≠ 0 := by\n    by_contra h\n    have h3 : Real.tan y = 0 := by simpa using h\n    have h4 : Real.tan x = 4 := by\n      have h5 : Real.tan x + Real.tan y = 4 := h1\n      rw [h3] at h5\n      linarith\n    have h6 : Real.cot y = 0 := by\n      by_cases h7 : Real.sin y = 0\n      · -- Case: sin y = 0\n        have h8 : Real.cot y = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          rw [h7]\n          simp\n        exact h8\n      · -- Case: sin y ≠ 0\n        have h8 : Real.cos y = 0 := by\n          by_contra h9\n          -- If cos y ≠ 0, then tan y = sin y / cos y ≠ 0, which contradicts h3\n          have h10 : Real.tan y = Real.sin y / Real.cos y := by\n            rw [Real.tan_eq_sin_div_cos]\n          have h11 : Real.tan y ≠ 0 := by\n            rw [h10]\n            field_simp [h7, h9]\n            <;>\n            (try contradiction) <;>\n            (try linarith)\n          contradiction\n        have h9 : Real.cot y = 0 := by\n          rw [Real.cot_eq_cos_div_sin]\n          rw [h8]\n          simp\n        exact h9\n    have h7 : Real.cot x = 1 / 4 := by\n      have h8 : Real.tan x = 4 := h4\n      have h9 : Real.cos x ≠ 0 := by\n        by_contra h10\n        have h11 : Real.tan x = 0 := by\n          rw [Real.tan_eq_sin_div_cos]\n          rw [h10]\n          simp\n        rw [h11] at h8\n        norm_num at h8 ⊢\n        <;> linarith\n      have h10 : Real.sin x = 4 * Real.cos x := by\n        have h11 : Real.tan x = Real.sin x / Real.cos x := by\n          rw [Real.tan_eq_sin_div_cos]\n        rw [h11] at h8\n        field_simp [h9] at h8\n        linarith\n      have h11 : Real.cot x = 1 / 4 := by\n        have h12 : Real.cot x = Real.cos x / Real.sin x := by\n          rw [Real.cot_eq_cos_div_sin]\n        rw [h12]\n        have h13 : Real.sin x = 4 * Real.cos x := h10\n        rw [h13]\n        have h14 : Real.cos x ≠ 0 := h9\n        field_simp [h14]\n        <;> ring_nf\n        <;> field_simp [h14]\n        <;> linarith\n      exact h11\n    have h8 : Real.cot x + Real.cot y = 1 / 4 := by\n      rw [h7, h6]\n      <;> norm_num\n    have h9 : Real.cot x + Real.cot y = 5 := h2\n    linarith\n  exact h_main\ntheorem prove_tan_sum_identity_h2_rewritten (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (cot_x_eq : Real.cot x = 1 / Real.tan x) (cot_y_eq : Real.cot y = 1 / Real.tan y) : 1 / Real.tan x + 1 / Real.tan y = 5 := by\n  rw [← cot_x_eq, ← cot_y_eq]\n  exact h2\ntheorem prove_tan_sum_identity_h2_combined (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_x_ne_zero : Real.tan x ≠ 0) (tan_y_ne_zero : Real.tan y ≠ 0) (h2_rewritten : 1 / Real.tan x + 1 / Real.tan y = 5) : (Real.tan x + Real.tan y) / (Real.tan x * Real.tan y) = 5 := by\n  have h_prod_ne_zero : Real.tan x * Real.tan y ≠ 0 := mul_ne_zero tan_x_ne_zero tan_y_ne_zero\n  field_simp [tan_x_ne_zero, tan_y_ne_zero, h_prod_ne_zero] at h2_rewritten ⊢\n  linarith\ntheorem prove_tan_sum_identity_tan_prod_eq (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_x_ne_zero : Real.tan x ≠ 0) (tan_y_ne_zero : Real.tan y ≠ 0) (h2_combined : (Real.tan x + Real.tan y) / (Real.tan x * Real.tan y) = 5) : Real.tan x * Real.tan y = 4 / 5 := by\n  -- Substitute h1 into h2_combined\n  rw [h1] at h2_combined\n  -- Now h2_combined : 4 / (Real.tan x * Real.tan y) = 5\n  -- We need to show: Real.tan x * Real.tan y = 4 / 5\n  \n  -- The product tan x * tan y is nonzero since both are nonzero\n  have prod_ne_zero : Real.tan x * Real.tan y ≠ 0 := mul_ne_zero tan_x_ne_zero tan_y_ne_zero\n  \n  -- From h2_combined: 4 / (Real.tan x * Real.tan y) = 5\n  -- Multiply both sides by (Real.tan x * Real.tan y)\n  have : 4 = 5 * (Real.tan x * Real.tan y) := by\n    field_simp [prod_ne_zero] at h2_combined\n    linarith\n  \n  -- Divide both sides by 5\n  linarith\ntheorem prove_tan_sum_identity_denom_ne_zero (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_prod_eq : Real.tan x * Real.tan y = 4 / 5) : 1 - Real.tan x * Real.tan y ≠ 0 := by\n  rw [tan_prod_eq]\n  norm_num\ntheorem prove_tan_sum_identity_tan_add_conditions (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (denom_ne_zero : 1 - Real.tan x * Real.tan y ≠ 0) : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2) := by\n  have h_cos_x_ne_zero : Real.cos x ≠ 0 := by\n    by_contra h\n    have h3 : Real.cos x = 0 := by simpa using h\n    have h4 : Real.tan x = 0 := by\n      rw [Real.tan_eq_sin_div_cos]\n      rw [h3]\n      simp\n    have h5 : Real.cot x = 0 := by\n      rw [Real.cot_eq_cos_div_sin]\n      have h6 : Real.cos x = 0 := h3\n      rw [h6]\n      by_cases h7 : Real.sin x = 0\n      · simp [h7]\n      · field_simp [h7]\n        <;> simp_all [Real.sin_sq_add_cos_sq]\n        <;> nlinarith [Real.sin_le_one x, Real.cos_le_one x, Real.sin_sq_add_cos_sq x]\n    have h6 : Real.tan y = 4 := by\n      linarith\n    have h7 : Real.cos y ≠ 0 := by\n      by_contra h8\n      have h9 : Real.cos y = 0 := by simpa using h8\n      have h10 : Real.tan y = 0 := by\n        rw [Real.tan_eq_sin_div_cos]\n        rw [h9]\n        simp\n      linarith\n    have h8 : Real.cot y = 1 / 4 := by\n      have h9 : Real.tan y = 4 := h6\n      have h10 : Real.tan y = Real.sin y / Real.cos y := by\n        rw [Real.tan_eq_sin_div_cos]\n      rw [h10] at h9\n      have h11 : Real.sin y / Real.cos y = 4 := by linarith\n      have h12 : Real.sin y = 4 * Real.cos y := by\n        field_simp [h7] at h11\n        linarith\n      have h13 : Real.cot y = Real.cos y / Real.sin y := by\n        rw [Real.cot_eq_cos_div_sin]\n      rw [h13]\n      have h14 : Real.sin y = 4 * Real.cos y := h12\n      rw [h14]\n      field_simp [h7]\n      <;> ring_nf\n      <;> field_simp [h7]\n      <;> nlinarith [Real.sin_sq_add_cos_sq y]\n    have h9 : Real.cot x + Real.cot y = 5 := h2\n    rw [h5] at h9\n    rw [h8] at h9\n    norm_num at h9\n    <;> linarith\n  \n  have h_cos_y_ne_zero : Real.cos y ≠ 0 := by\n    by_contra h\n    have h3 : Real.cos y = 0 := by simpa using h\n    have h4 : Real.tan y = 0 := by\n      rw [Real.tan_eq_sin_div_cos]\n      rw [h3]\n      simp\n    have h5 : Real.cot y = 0 := by\n      rw [Real.cot_eq_cos_div_sin]\n      have h6 : Real.cos y = 0 := h3\n      rw [h6]\n      by_cases h7 : Real.sin y = 0\n      · simp [h7]\n      · field_simp [h7]\n        <;> simp_all [Real.sin_sq_add_cos_sq]\n        <;> nlinarith [Real.sin_le_one y, Real.cos_le_one y, Real.sin_sq_add_cos_sq y]\n    have h6 : Real.tan x = 4 := by\n      linarith\n    have h7 : Real.cos x ≠ 0 := by\n      by_contra h8\n      have h9 : Real.cos x = 0 := by simpa using h8\n      have h10 : Real.tan x = 0 := by\n        rw [Real.tan_eq_sin_div_cos]\n        rw [h9]\n        simp\n      linarith\n    have h8 : Real.cot x = 1 / 4 := by\n      have h9 : Real.tan x = 4 := h6\n      have h10 : Real.tan x = Real.sin x / Real.cos x := by\n        rw [Real.tan_eq_sin_div_cos]\n      rw [h10] at h9\n      have h11 : Real.sin x / Real.cos x = 4 := by linarith\n      have h12 : Real.sin x = 4 * Real.cos x := by\n        field_simp [h7] at h11\n        linarith\n      have h13 : Real.cot x = Real.cos x / Real.sin x := by\n        rw [Real.cot_eq_cos_div_sin]\n      rw [h13]\n      have h14 : Real.sin x = 4 * Real.cos x := h12\n      rw [h14]\n      field_simp [h7]\n      <;> ring_nf\n      <;> field_simp [h7]\n      <;> nlinarith [Real.sin_sq_add_cos_sq x]\n    have h9 : Real.cot x + Real.cot y = 5 := h2\n    rw [h5] at h9\n    rw [h8] at h9\n    norm_num at h9\n    <;> linarith\n  \n  have h_main : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2) := by\n    constructor\n    · -- Prove that for all integers k, x ≠ (2k + 1)π/2\n      intro k\n      have h3 : Real.cos x ≠ 0 := h_cos_x_ne_zero\n      have h4 : Real.cos ((2 * (k : ℝ) + 1) * Real.pi / 2) = 0 := by\n        have h5 : Real.cos ((2 * (k : ℝ) + 1) * Real.pi / 2) = 0 := by\n          rw [show (2 * (k : ℝ) + 1) * Real.pi / 2 = (k : ℝ) * Real.pi + Real.pi / 2 by ring]\n          rw [show (k : ℝ) * Real.pi + Real.pi / 2 = (k : ℝ) * Real.pi + Real.pi / 2 by rfl]\n          -- Use the periodicity and properties of the cosine function to show that cos((2k + 1)π/2) = 0\n          have h6 : Real.cos ((k : ℝ) * Real.pi + Real.pi / 2) = -Real.sin ((k : ℝ) * Real.pi) := by\n            rw [Real.cos_add]\n            <;> simp [Real.cos_pi_div_two, Real.sin_pi_div_two]\n            <;> ring\n          rw [h6]\n          have h7 : Real.sin ((k : ℝ) * Real.pi) = 0 := by\n            -- Use the fact that sin(kπ) = 0 for any integer k\n            have h8 : Real.sin ((k : ℝ) * Real.pi) = 0 := by\n              rw [show (k : ℝ) * Real.pi = (k : ℝ) * Real.pi by rfl]\n              -- Use the periodicity of the sine function\n              exact Real.sin_int_mul_pi k\n            exact h8\n          rw [h7]\n          <;> ring\n        exact h5\n      -- Use the fact that cos x ≠ 0 to show that x ≠ (2k + 1)π/2\n      intro h5\n      have h6 : x = (2 * (k : ℝ) + 1) * Real.pi / 2 := by\n        norm_cast at h5 ⊢\n        <;> linarith\n      have h7 : Real.cos x = Real.cos ((2 * (k : ℝ) + 1) * Real.pi / 2) := by rw [h6]\n      rw [h7] at h3\n      exact h3 h4\n    · -- Prove that for all integers l, y ≠ (2l + 1)π/2\n      intro l\n      have h3 : Real.cos y ≠ 0 := h_cos_y_ne_zero\n      have h4 : Real.cos ((2 * (l : ℝ) + 1) * Real.pi / 2) = 0 := by\n        have h5 : Real.cos ((2 * (l : ℝ) + 1) * Real.pi / 2) = 0 := by\n          rw [show (2 * (l : ℝ) + 1) * Real.pi / 2 = (l : ℝ) * Real.pi + Real.pi / 2 by ring]\n          rw [show (l : ℝ) * Real.pi + Real.pi / 2 = (l : ℝ) * Real.pi + Real.pi / 2 by rfl]\n          -- Use the periodicity and properties of the cosine function to show that cos((2l + 1)π/2) = 0\n          have h6 : Real.cos ((l : ℝ) * Real.pi + Real.pi / 2) = -Real.sin ((l : ℝ) * Real.pi) := by\n            rw [Real.cos_add]\n            <;> simp [Real.cos_pi_div_two, Real.sin_pi_div_two]\n            <;> ring\n          rw [h6]\n          have h7 : Real.sin ((l : ℝ) * Real.pi) = 0 := by\n            -- Use the fact that sin(lπ) = 0 for any integer l\n            have h8 : Real.sin ((l : ℝ) * Real.pi) = 0 := by\n              rw [show (l : ℝ) * Real.pi = (l : ℝ) * Real.pi by rfl]\n              -- Use the periodicity of the sine function\n              exact Real.sin_int_mul_pi l\n            exact h8\n          rw [h7]\n          <;> ring\n        exact h5\n      -- Use the fact that cos y ≠ 0 to show that y ≠ (2l + 1)π/2\n      intro h5\n      have h6 : y = (2 * (l : ℝ) + 1) * Real.pi / 2 := by\n        norm_cast at h5 ⊢\n        <;> linarith\n      have h7 : Real.cos y = Real.cos ((2 * (l : ℝ) + 1) * Real.pi / 2) := by rw [h6]\n      rw [h7] at h3\n      exact h3 h4\n  \n  exact h_main\ntheorem prove_tan_sum_identity_tan_add_formula (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_add_conditions : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2)) : Real.tan (x + y) = (Real.tan x + Real.tan y) / (1 - Real.tan x * Real.tan y) := by\n  exact Real.tan_add' tan_add_conditions\ntheorem prove_tan_sum_identity_denom_value (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_prod_eq : Real.tan x * Real.tan y = 4 / 5) : 1 - Real.tan x * Real.tan y = 1 / 5 := by\n  rw [tan_prod_eq]\n  norm_num\ntheorem prove_tan_sum_identity_result (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) (tan_add_formula : Real.tan (x + y) = (Real.tan x + Real.tan y) / (1 - Real.tan x * Real.tan y)) (denom_value : 1 - Real.tan x * Real.tan y = 1 / 5) (numerator_value : Real.tan x + Real.tan y = 4) : Real.tan (x + y) = 4 / (1 / 5) := by\n  rw [tan_add_formula, numerator_value, denom_value]\ntheorem prove_tan_sum_identity (x y : ℝ) (h1 : Real.tan x + Real.tan y = 4) (h2 : Real.cot x + Real.cot y = 5) : \n  Real.tan (x + y) = 20 := by\n  have cot_x_eq : Real.cot x = 1 / Real.tan x := prove_tan_sum_identity_cot_x_eq x\n  have cot_y_eq : Real.cot y = 1 / Real.tan y := prove_tan_sum_identity_cot_y_eq y\n  have tan_x_ne_zero : Real.tan x ≠ 0 := prove_tan_sum_identity_tan_x_ne_zero x y h1 h2\n  have tan_y_ne_zero : Real.tan y ≠ 0 := prove_tan_sum_identity_tan_y_ne_zero x y h1 h2 tan_x_ne_zero\n  have h2_rewritten : 1 / Real.tan x + 1 / Real.tan y = 5 := prove_tan_sum_identity_h2_rewritten x y h1 h2 cot_x_eq cot_y_eq\n  have h2_combined : (Real.tan x + Real.tan y) / (Real.tan x * Real.tan y) = 5 := prove_tan_sum_identity_h2_combined x y h1 h2 tan_x_ne_zero tan_y_ne_zero h2_rewritten\n  have tan_prod_eq : Real.tan x * Real.tan y = 4 / 5 := prove_tan_sum_identity_tan_prod_eq x y h1 h2 tan_x_ne_zero tan_y_ne_zero h2_combined\n  have denom_ne_zero : 1 - Real.tan x * Real.tan y ≠ 0 := prove_tan_sum_identity_denom_ne_zero x y h1 h2 tan_prod_eq\n  have tan_add_conditions : (∀ (k : Int), x ≠ (2 * k + 1) * Real.pi / 2) ∧ (∀ (l : Int), y ≠ (2 * l + 1) * Real.pi / 2) := prove_tan_sum_identity_tan_add_conditions x y h1 h2 denom_ne_zero\n  have tan_add_formula : Real.tan (x + y) = (Real.tan x + Real.tan y) / (1 - Real.tan x * Real.tan y) := prove_tan_sum_identity_tan_add_formula x y h1 h2 tan_add_conditions\n  have denom_value : 1 - Real.tan x * Real.tan y = 1 / 5 := prove_tan_sum_identity_denom_value x y h1 h2 tan_prod_eq\n  have numerator_value : Real.tan x + Real.tan y = 4 := h1\n  have result : Real.tan (x + y) = 4 / (1 / 5) := prove_tan_sum_identity_result x y h1 h2 tan_add_formula denom_value numerator_value\n  linarith"}
{"id": "c223", "nl_problem": "The diagonals of rectangle $PQRS$ intersect at point $X$.  If $PS = 6$ and $RS=8$, then what is $\\sin \\angle PXS$?", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem sin_angle_in_rectangle : \n  ∀ (P Q R S X : ℝ × ℝ),\n\n  P = (0, 0) →\n  S = (6, 0) →\n  R = (6, 8) →\n  Q = (0, 8) →\n\n  X = ((P.1 + R.1) / 2, (P.2 + R.2) / 2) →\n\n  let v1 := P - X\n  let v2 := S - X\n  let dot_product := v1.1 * v2.1 + v1.2 * v2.2\n  let norm_v1 := Real.sqrt (v1.1^2 + v1.2^2)\n  let norm_v2 := Real.sqrt (v2.1^2 + v2.2^2)\n  let cos_theta := dot_product / (norm_v1 * norm_v2)\n  Real.sin (Real.arccos cos_theta) = 24/25 :=", "formal_code": "import Mathlib\ntheorem sin_angle_in_rectangle : \n  ∀ (P Q R S X : ℝ × ℝ),\n\n  P = (0, 0) →\n  S = (6, 0) →\n  R = (6, 8) →\n  Q = (0, 8) →\n\n  X = ((P.1 + R.1) / 2, (P.2 + R.2) / 2) →\n\n  let v1 := P - X\n  let v2 := S - X\n  let dot_product := v1.1 * v2.1 + v1.2 * v2.2\n  let norm_v1 := Real.sqrt (v1.1^2 + v1.2^2)\n  let norm_v2 := Real.sqrt (v2.1^2 + v2.2^2)\n  let cos_theta := dot_product / (norm_v1 * norm_v2)\n  Real.sin (Real.arccos cos_theta) = 24/25 := by\n  intro P Q R S X hP hS hR hQ hX\n  simp only [hP, hS, hR, hQ, hX]\n  norm_num [Real.sin_arccos]"}
{"id": "c364", "nl_problem": "Let $x$ and $y$ be positive real numbers such that $4x + 9y = 60.$  Find the maximum value of $xy.$", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem maximize_product_under_constraint : \n  (∀ x y : ℝ, x > 0 → y > 0 → 4 * x + 9 * y = 60 → x * y ≤ 25) ∧ \n  (∃ x y : ℝ, x > 0 ∧ y > 0 ∧ 4 * x + 9 * y = 60 ∧ x * y = 25) :=", "formal_code": "import Mathlib\ntheorem maximize_product_under_constraint : \n  (∀ x y : ℝ, x > 0 → y > 0 → 4 * x + 9 * y = 60 → x * y ≤ 25) ∧ \n  (∃ x y : ℝ, x > 0 ∧ y > 0 ∧ 4 * x + 9 * y = 60 ∧ x * y = 25) := by\n  have h_main_inequality : ∀ x y : ℝ, x > 0 → y > 0 → 4 * x + 9 * y = 60 → x * y ≤ 25 := by\n    intro x y hx hy h\n    have h₁ : 0 < x * y := mul_pos hx hy\n    have h₂ : (4 * x + 9 * y) ^ 2 = 3600 := by\n      rw [h]\n      <;> norm_num\n    have h₃ : 0 ≤ (4 * x - 9 * y) ^ 2 := sq_nonneg _\n    have h₄ : (4 * x + 9 * y) ^ 2 ≥ 144 * (x * y) := by\n      nlinarith [sq_nonneg (4 * x - 9 * y)]\n    nlinarith\n  \n  have h_existence : ∃ x y : ℝ, x > 0 ∧ y > 0 ∧ 4 * x + 9 * y = 60 ∧ x * y = 25 := by\n    use 15 / 2, 10 / 3\n    constructor\n    · -- Prove 15/2 > 0\n      norm_num\n    constructor\n    · -- Prove 10/3 > 0\n      norm_num\n    constructor\n    · -- Prove 4*(15/2) + 9*(10/3) = 60\n      norm_num\n    · -- Prove (15/2)*(10/3) = 25\n      norm_num\n  \n  exact ⟨h_main_inequality, h_existence⟩"}
{"id": "c404", "nl_problem": "Compute\n\\[\\tan \\left( 2 \\arctan \\frac{1}{5} - \\frac{\\pi}{4} \\right).\\]", "formal_type": "Lean", "header": "import Mathlib\ntheorem tan_arctan_identity_verification_h2 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) : Real.tan (2 * Real.arctan (1/5)) = 5/12 := by\n  rw [Real.tan_two_mul]\n  rw [Real.tan_arctan]\n  norm_num\ntheorem tan_arctan_identity_verification_h3 : Real.tan (Real.pi/4) = 1 := by\n  rw [Real.tan_eq_sin_div_cos]\n  norm_num\ntheorem tan_arctan_identity_verification_h4 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) (h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12) (h3 : Real.tan (Real.pi/4) = 1) : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0 := by\n  norm_num\ntheorem tan_arctan_identity_verification_h5 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) (h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12) (h3 : Real.tan (Real.pi/4) = 1) (h4 : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0) : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) := by\n  have h5 : Real.sin (2 * Real.arctan (1/5)) = 5/13 := by\n    have h₅ : Real.sin (2 * Real.arctan (1 / 5)) = 2 * (1 / 5) / (1 + (1 / 5) ^ 2) := by\n      have h₅₁ : Real.sin (2 * Real.arctan (1 / 5)) = 2 * Real.sin (Real.arctan (1 / 5)) * Real.cos (Real.arctan (1 / 5)) := by\n        rw [Real.sin_two_mul]\n      rw [h₅₁]\n      have h₅₂ : Real.sin (Real.arctan (1 / 5)) = (1 / 5) / Real.sqrt (1 + (1 / 5) ^ 2) := by\n        have h₅₂₁ : Real.sin (Real.arctan (1 / 5)) = (1 / 5) / Real.sqrt (1 + (1 / 5) ^ 2) := by\n          rw [Real.sin_arctan]\n          <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n          <;>\n          linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n        rw [h₅₂₁]\n      have h₅₃ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n        have h₅₃₁ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n          rw [Real.cos_arctan]\n          <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n          <;>\n          linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n        rw [h₅₃₁]\n      rw [h₅₂, h₅₃]\n      have h₅₄ : 0 < Real.sqrt (1 + (1 / 5 : ℝ) ^ 2) := by positivity\n      field_simp [h₅₄.ne']\n      <;> ring_nf <;> field_simp [h₅₄.ne'] <;> ring_nf <;> norm_num\n      <;>\n      linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n    rw [h₅]\n    <;> norm_num <;>\n    (try ring_nf) <;>\n    (try norm_num) <;>\n    (try field_simp) <;>\n    (try ring_nf) <;>\n    (try norm_num)\n    <;>\n    linarith\n  \n  have h6 : Real.cos (2 * Real.arctan (1/5)) = 12/13 := by\n    have h₆ : Real.cos (2 * Real.arctan (1 / 5)) = (1 - (1 / 5) ^ 2) / (1 + (1 / 5) ^ 2) := by\n      have h₆₁ : Real.cos (2 * Real.arctan (1 / 5)) = 2 * Real.cos (Real.arctan (1 / 5)) ^ 2 - 1 := by\n        rw [Real.cos_two_mul]\n        <;>\n        simp [Real.cos_sq]\n        <;>\n        ring_nf\n      rw [h₆₁]\n      have h₆₂ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n        have h₆₂₁ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n          rw [Real.cos_arctan]\n          <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n          <;>\n          linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n        rw [h₆₂₁]\n      rw [h₆₂]\n      have h₆₃ : 0 < Real.sqrt (1 + (1 / 5 : ℝ) ^ 2) := by positivity\n      field_simp [h₆₃.ne']\n      <;> ring_nf <;> field_simp [h₆₃.ne'] <;> ring_nf <;> norm_num\n      <;>\n      linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n    rw [h₆]\n    <;> norm_num <;>\n    (try ring_nf) <;>\n    (try norm_num) <;>\n    (try field_simp) <;>\n    (try ring_nf) <;>\n    (try norm_num)\n    <;>\n    linarith\n  \n  have h7 : Real.sin (2 * Real.arctan (1/5) - Real.pi/4) = (-7 : ℝ) * Real.sqrt 2 / 26 := by\n    have h7₁ : Real.sin (2 * Real.arctan (1/5) - Real.pi/4) = Real.sin (2 * Real.arctan (1/5)) * Real.cos (Real.pi/4) - Real.cos (2 * Real.arctan (1/5)) * Real.sin (Real.pi/4) := by\n      rw [Real.sin_sub]\n    rw [h7₁]\n    have h7₂ : Real.cos (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    have h7₃ : Real.sin (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    rw [h7₂, h7₃]\n    rw [h5, h6]\n    ring_nf\n    <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h8 : Real.cos (2 * Real.arctan (1/5) - Real.pi/4) = 17 * Real.sqrt 2 / 26 := by\n    have h8₁ : Real.cos (2 * Real.arctan (1/5) - Real.pi/4) = Real.cos (2 * Real.arctan (1/5)) * Real.cos (Real.pi/4) + Real.sin (2 * Real.arctan (1/5)) * Real.sin (Real.pi/4) := by\n      rw [Real.cos_sub]\n    rw [h8₁]\n    have h8₂ : Real.cos (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    have h8₃ : Real.sin (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    rw [h8₂, h8₃]\n    rw [h5, h6]\n    ring_nf\n    <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h9 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = (-7 : ℝ)/17 := by\n    have h9₁ : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = Real.sin (2 * Real.arctan (1/5) - Real.pi/4) / Real.cos (2 * Real.arctan (1/5) - Real.pi/4) := by\n      rw [Real.tan_eq_sin_div_cos]\n    rw [h9₁]\n    rw [h7, h8]\n    have h9₂ : Real.sqrt 2 > 0 := Real.sqrt_pos.mpr (by norm_num)\n    field_simp [h9₂.ne']\n    <;> ring_nf\n    <;> field_simp [h9₂.ne']\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h10 : ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) = (-7 : ℝ)/17 := by\n    norm_num [div_eq_mul_inv]\n    <;>\n    ring_nf at *\n    <;>\n    norm_num at *\n    <;>\n    linarith\n  \n  have h11 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) := by\n    rw [h9]\n    rw [h10]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  rw [h11]\n  <;>\n  norm_num\n  <;>\n  linarith\ntheorem tan_arctan_identity_verification_h6 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) (h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12) (h3 : Real.tan (Real.pi/4) = 1) (h4 : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0) (h5 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1)) : ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) = -7/17 := by\n  norm_num\n", "formal_statement": "theorem tan_arctan_identity_verification : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = -7/17 :=", "formal_code": "import Mathlib\ntheorem tan_arctan_identity_verification_h2 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) : Real.tan (2 * Real.arctan (1/5)) = 5/12 := by\n  rw [Real.tan_two_mul]\n  rw [Real.tan_arctan]\n  norm_num\ntheorem tan_arctan_identity_verification_h3 : Real.tan (Real.pi/4) = 1 := by\n  rw [Real.tan_eq_sin_div_cos]\n  norm_num\ntheorem tan_arctan_identity_verification_h4 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) (h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12) (h3 : Real.tan (Real.pi/4) = 1) : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0 := by\n  norm_num\ntheorem tan_arctan_identity_verification_h5 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) (h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12) (h3 : Real.tan (Real.pi/4) = 1) (h4 : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0) : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) := by\n  have h5 : Real.sin (2 * Real.arctan (1/5)) = 5/13 := by\n    have h₅ : Real.sin (2 * Real.arctan (1 / 5)) = 2 * (1 / 5) / (1 + (1 / 5) ^ 2) := by\n      have h₅₁ : Real.sin (2 * Real.arctan (1 / 5)) = 2 * Real.sin (Real.arctan (1 / 5)) * Real.cos (Real.arctan (1 / 5)) := by\n        rw [Real.sin_two_mul]\n      rw [h₅₁]\n      have h₅₂ : Real.sin (Real.arctan (1 / 5)) = (1 / 5) / Real.sqrt (1 + (1 / 5) ^ 2) := by\n        have h₅₂₁ : Real.sin (Real.arctan (1 / 5)) = (1 / 5) / Real.sqrt (1 + (1 / 5) ^ 2) := by\n          rw [Real.sin_arctan]\n          <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n          <;>\n          linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n        rw [h₅₂₁]\n      have h₅₃ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n        have h₅₃₁ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n          rw [Real.cos_arctan]\n          <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n          <;>\n          linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n        rw [h₅₃₁]\n      rw [h₅₂, h₅₃]\n      have h₅₄ : 0 < Real.sqrt (1 + (1 / 5 : ℝ) ^ 2) := by positivity\n      field_simp [h₅₄.ne']\n      <;> ring_nf <;> field_simp [h₅₄.ne'] <;> ring_nf <;> norm_num\n      <;>\n      linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n    rw [h₅]\n    <;> norm_num <;>\n    (try ring_nf) <;>\n    (try norm_num) <;>\n    (try field_simp) <;>\n    (try ring_nf) <;>\n    (try norm_num)\n    <;>\n    linarith\n  \n  have h6 : Real.cos (2 * Real.arctan (1/5)) = 12/13 := by\n    have h₆ : Real.cos (2 * Real.arctan (1 / 5)) = (1 - (1 / 5) ^ 2) / (1 + (1 / 5) ^ 2) := by\n      have h₆₁ : Real.cos (2 * Real.arctan (1 / 5)) = 2 * Real.cos (Real.arctan (1 / 5)) ^ 2 - 1 := by\n        rw [Real.cos_two_mul]\n        <;>\n        simp [Real.cos_sq]\n        <;>\n        ring_nf\n      rw [h₆₁]\n      have h₆₂ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n        have h₆₂₁ : Real.cos (Real.arctan (1 / 5)) = 1 / Real.sqrt (1 + (1 / 5) ^ 2) := by\n          rw [Real.cos_arctan]\n          <;> field_simp [Real.sqrt_eq_iff_sq_eq] <;> ring_nf <;> norm_num\n          <;>\n          linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n        rw [h₆₂₁]\n      rw [h₆₂]\n      have h₆₃ : 0 < Real.sqrt (1 + (1 / 5 : ℝ) ^ 2) := by positivity\n      field_simp [h₆₃.ne']\n      <;> ring_nf <;> field_simp [h₆₃.ne'] <;> ring_nf <;> norm_num\n      <;>\n      linarith [Real.sqrt_nonneg (1 + (1 / 5 : ℝ) ^ 2)]\n    rw [h₆]\n    <;> norm_num <;>\n    (try ring_nf) <;>\n    (try norm_num) <;>\n    (try field_simp) <;>\n    (try ring_nf) <;>\n    (try norm_num)\n    <;>\n    linarith\n  \n  have h7 : Real.sin (2 * Real.arctan (1/5) - Real.pi/4) = (-7 : ℝ) * Real.sqrt 2 / 26 := by\n    have h7₁ : Real.sin (2 * Real.arctan (1/5) - Real.pi/4) = Real.sin (2 * Real.arctan (1/5)) * Real.cos (Real.pi/4) - Real.cos (2 * Real.arctan (1/5)) * Real.sin (Real.pi/4) := by\n      rw [Real.sin_sub]\n    rw [h7₁]\n    have h7₂ : Real.cos (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    have h7₃ : Real.sin (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    rw [h7₂, h7₃]\n    rw [h5, h6]\n    ring_nf\n    <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h8 : Real.cos (2 * Real.arctan (1/5) - Real.pi/4) = 17 * Real.sqrt 2 / 26 := by\n    have h8₁ : Real.cos (2 * Real.arctan (1/5) - Real.pi/4) = Real.cos (2 * Real.arctan (1/5)) * Real.cos (Real.pi/4) + Real.sin (2 * Real.arctan (1/5)) * Real.sin (Real.pi/4) := by\n      rw [Real.cos_sub]\n    rw [h8₁]\n    have h8₂ : Real.cos (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    have h8₃ : Real.sin (Real.pi/4) = Real.sqrt 2 / 2 := by norm_num\n    rw [h8₂, h8₃]\n    rw [h5, h6]\n    ring_nf\n    <;> field_simp [Real.sqrt_eq_iff_sq_eq]\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h9 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = (-7 : ℝ)/17 := by\n    have h9₁ : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = Real.sin (2 * Real.arctan (1/5) - Real.pi/4) / Real.cos (2 * Real.arctan (1/5) - Real.pi/4) := by\n      rw [Real.tan_eq_sin_div_cos]\n    rw [h9₁]\n    rw [h7, h8]\n    have h9₂ : Real.sqrt 2 > 0 := Real.sqrt_pos.mpr (by norm_num)\n    field_simp [h9₂.ne']\n    <;> ring_nf\n    <;> field_simp [h9₂.ne']\n    <;> ring_nf\n    <;> norm_num\n    <;>\n    linarith [Real.sqrt_nonneg 2]\n  \n  have h10 : ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) = (-7 : ℝ)/17 := by\n    norm_num [div_eq_mul_inv]\n    <;>\n    ring_nf at *\n    <;>\n    norm_num at *\n    <;>\n    linarith\n  \n  have h11 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) := by\n    rw [h9]\n    rw [h10]\n    <;>\n    norm_num\n    <;>\n    linarith\n  \n  rw [h11]\n  <;>\n  norm_num\n  <;>\n  linarith\ntheorem tan_arctan_identity_verification_h6 (h1 : Real.tan (Real.arctan (1/5)) = 1/5) (h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12) (h3 : Real.tan (Real.pi/4) = 1) (h4 : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0) (h5 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1)) : ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) = -7/17 := by\n  norm_num\ntheorem tan_arctan_identity_verification : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = -7/17 := by\n  have h1 : Real.tan (Real.arctan (1/5)) = 1/5 := Real.tan_arctan (1/5)\n  have h2 : Real.tan (2 * Real.arctan (1/5)) = 5/12 := tan_arctan_identity_verification_h2 h1\n  have h3 : Real.tan (Real.pi/4) = 1 := tan_arctan_identity_verification_h3\n  have h4 : (1 : ℝ) + (5/12 : ℝ) * 1 ≠ 0 := tan_arctan_identity_verification_h4 h1 h2 h3\n  have h5 : Real.tan (2 * Real.arctan (1/5) - Real.pi/4) = ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) := tan_arctan_identity_verification_h5 h1 h2 h3 h4\n  have h6 : ((5/12 : ℝ) - 1) / (1 + (5/12 : ℝ) * 1) = -7/17 := tan_arctan_identity_verification_h6 h1 h2 h3 h4 h5\n  rw [h5, h6]"}
{"id": "c134", "nl_problem": "The equation of a parabola is $y^2 + 6y + 2x + 5 = 0.$  Find the vertex of the parabola.", "formal_type": "Lean", "header": "import Mathlib\n", "formal_statement": "theorem parabola_vertex : \n  let F : ℝ → ℝ → ℝ := fun x y => y^2 + 6*y + 2*x + 5\n\n  F 2 (-3) = 0 ∧ \n\n  (∀ x y : ℝ, F x y = 0 → x ≤ 2) ∧\n\n  (∃ y : ℝ, F 2 y = 0) :=", "formal_code": "import Mathlib\ntheorem parabola_vertex : \n  let F : ℝ → ℝ → ℝ := fun x y => y^2 + 6*y + 2*x + 5\n\n  F 2 (-3) = 0 ∧ \n\n  (∀ x y : ℝ, F x y = 0 → x ≤ 2) ∧\n\n  (∃ y : ℝ, F 2 y = 0) := by\n  constructor\n  · -- Part 1: F 2 (-3) = 0\n    norm_num\n  constructor\n  · -- Part 2: ∀ x y : ℝ, F x y = 0 → x ≤ 2\n    intro x y hF\n    -- From F x y = 0, we have y^2 + 6*y + 2*x + 5 = 0\n    -- So 2*x = -y^2 - 6*y - 5\n    -- Thus x = -1/2 * y^2 - 3*y - 5/2\n    -- We need to show x ≤ 2\n    -- This is equivalent to -1/2 * y^2 - 3*y - 5/2 ≤ 2\n    -- Which simplifies to -1/2 * y^2 - 3*y - 9/2 ≤ 0\n    -- Multiplying by -2: y^2 + 6*y + 9 ≥ 0\n    -- Which is (y + 3)^2 ≥ 0, always true\n    have h : y^2 + 6*y + 2*x + 5 = 0 := hF\n    have h2 : 2*x = -y^2 - 6*y - 5 := by linarith\n    have h3 : x = -1/2 * y^2 - 3*y - 5/2 := by linarith\n    have h4 : (y + 3)^2 ≥ 0 := sq_nonneg (y + 3)\n    linarith [sq_nonneg (y + 3)]\n  · -- Part 3: ∃ y : ℝ, F 2 y = 0\n    use -3\n    norm_num"}
